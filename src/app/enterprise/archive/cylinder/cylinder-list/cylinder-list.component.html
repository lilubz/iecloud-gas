<div class="ui-g-12 cylinderList card">
  <form class="ui-g padding" [formGroup]="formModel" (submit)="onSearch();">

    <div class="ui-g-12 ui-lg-6 ">
      <div class="form-group">
        <label style="width:80px;display:inline-block">经营企业</label>
        <p-dropdown [options]="dropdown.company" formControlName="enterpriseNumber" [style]="{'width':'280px'}"></p-dropdown>
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6 ">
      <div class="form-group">
        <label style="width:80px;display:inline-block">制造单位</label>
        <p-dropdown [options]="dropdown.make" formControlName="productionUnit" [style]="{'width':'280px'}"></p-dropdown>
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6 ">
      <div class="form-group">
        <label style="width:80px;display:inline-block">状态</label>
        <p-dropdown [options]="dropdown.status" formControlName="state" [style]="{'width':'280px'}"></p-dropdown>
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6 ">
      <div class="form-group">
        <label style="width:80px;display:inline-block">气瓶条码</label>
        <input type="text" class="textInput" formControlName="cylinderCode" pInputText style="width:280px">
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6 ">
      <div class="form-group">
        <label style="width:80px;display:inline-block">自有编号</label>
        <input type="text" class="textInput" formControlName="ownNumber" pInputText style="width:280px">
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6">
      <div class="form-group">
        <label style="width:80px;display:inline-block">出厂编号</label>
        <input type="text" class="textInput" formControlName="serialNumber" pInputText style="width:280px">
      </div>
    </div>


    <div class="ui-g-12">
      <button pButton type="submit" label="查询" class="searchBtn"></button>
    </div>
  </form>





  <div class="ui-g padding">
    <!-- <div class="ui-g-12"> -->
      <p-dataTable [value]="dataTable.list" [lazy]="true" dataKey="gasLabelNumber" [paginator]="true" [rows]="dataTable.option[2]"
        [scrollable]="false" scrollHeight="510px" [rowsPerPageOptions]="dataTable.option" [totalRecords]="dataTable.total"
        (onLazyLoad)="onPageChange($event)" [(first)]="dataTable.first" [loading]="loading">
        <p-column [style]="{'width':'80px'}" header="序号">
          <ng-template let-rowData="rowData" let-index="rowIndex" pTemplate="body">
            <span>{{index+1}}</span>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'150px'}" field="gasLabelNumber" header="气瓶条码">
          <ng-template let-col let-cylinder="rowData" pTemplate="body">
            <a href="javascript:void(0);" [routerLink]="['../detail', cylinder.gasLabelNumber || '']" title="点击查看气瓶详情">{{ cylinder.gasLabelNumber }}</a>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'120px'}" header="操作">
          <ng-template let-col let-rowData="rowData" pTemplate="body">
            <a href="javascript:void(0);" [routerLink]="['/enterprise/delivery/cylinder-trace/cylinder-history']" [queryParams]="{cylinderNumber:rowData.gasLabelNumber}"
              title="点击查看流转记录">查看流转记录</a>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'80px'}" field="regionName" header="所属行政区"></p-column>
        <p-column [style]="{'width':'150px'}" field="enterpriseName" header="经营企业"></p-column>
        <p-column [style]="{'width':'100px'}" field="type" header="气瓶规格"></p-column>
        <p-column [style]="{'width':'100px'}" field="fillingMedium" header="充装介质"></p-column>
        <p-column [style]="{'width':'80px'}" field="serviceCondition" header="状态"></p-column>
        <p-column [style]="{'width':'100px'}" header="制造年月">
          <ng-template let-first="rowData" pTemplate="body">
            <span>{{first.productionDate|date:"yyyy-MM-dd"}}</span>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'100px'}" header="末检日期">
          <ng-template let-end="rowData" pTemplate="body">
            <span>{{end.endCheckDate|date:"yyyy-MM-dd"}}</span>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'100px'}" header="下检日期">
          <ng-template let-next="rowData" pTemplate="body">
            <span>{{next.nextCheckDate|date:"yyyy-MM-dd"}}</span>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'100px'}" field="serialNumber" header="出厂编号"></p-column>
        <p-column [style]="{'width':'100px'}" field="enterpriseCylinderCode" header="自有编号"></p-column>
        <p-column [style]="{'width':'100px'}" field="electronNumber" header="电子编号（预留）"></p-column>
        <p-column [style]="{'width':'100px'}" header="登记时间">
          <ng-template let-next="rowData" pTemplate="body">
            <span>{{next.registrationTime|date:"yyyy-MM-dd"}}</span>
          </ng-template>
        </p-column>
        <p-column [style]="{'width':'100px'}" field="productionUnit" header="制造单位"></p-column>

        <ng-template pTemplate="emptymessage">
          <div class="text-left">
            未查询到数据
          </div>
        </ng-template>
        <ng-template pTemplate="paginatorRight">
          共 {{ dataTable.total || 0 }} 条记录
        </ng-template>
      </p-dataTable>
    <!-- </div> -->
  </div>
</div>
