<div class="ui-g-12 overview">

  <h2 class="title">企业一览表</h2>
  <!-- 企业概览 -->
  <p-dataTable [value]="enterpriseCylinders" [styleClass]="'ui-lg-10 ui-xl-8 ui-xl-offset-2 ui-lg-offset-1'" [loading]="loading"
    emptyMessage="未查询到数据">

    <p-column header="序号" [style]="{'width':'50px'}">
      <ng-template pTemplate="body" let-index="rowIndex">
        {{index + 1}}
      </ng-template>
    </p-column>
    <p-column field="enterpriseName" header="企业名称" footer="合计" [style]="{'width':'30%'}">
      <ng-template let-col let-countyCylinder="rowData" pTemplate="body">
        <a href="javascript:void(0);" [routerLink]="['../list', {enterpriseID:countyCylinder.enterpriseNumber||''}]" class="area">{{countyCylinder[col.field]}}</a>
      </ng-template>
    </p-column>
    <p-column field="totalCount" header="气瓶数" [footer]="calculateTotal('totalCount', enterpriseCylinders)">
      <ng-template let-countyCylinder="rowData" pTemplate="body">
        {{ countyCylinder.totalCount || 0 }}
      </ng-template>
    </p-column>
    <p-column field="normalCount" header="正常" [footer]="calculateTotal('normalCount', enterpriseCylinders)">
      <ng-template let-countyCylinder="rowData" pTemplate="body">
        {{ countyCylinder.normalCount || 0 }}
      </ng-template>
    </p-column>
    <p-column field="expireCount" header="过期" [footer]="calculateTotal('expireCount', enterpriseCylinders)">
      <ng-template let-countyCylinder="rowData" pTemplate="body">
        {{ countyCylinder.expireCount || 0 }}
      </ng-template>
    </p-column>
    <p-column field="scrapCount" header="报废" [footer]="calculateTotal('scrapCount', enterpriseCylinders)">
      <ng-template let-countyCylinder="rowData" pTemplate="body">
        {{ countyCylinder.scrapCount || 0 }}
      </ng-template>
    </p-column>
    <p-column field="codeAbnormalCount" header="标签异常" [footer]="calculateTotal('codeAbnormalCount', enterpriseCylinders)">
        <ng-template let-countyCylinder="rowData" pTemplate="body">
          {{ countyCylinder.codeAbnormalCount || 0 }}
        </ng-template>
      </p-column>
  </p-dataTable>

</div>
